<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- External libraries -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/f0fa2c9149.js" crossorigin="anonymous"></script>
</head>

<body>

    <!-- TOP NAV -->
    <nav class="sticky top-0 md:justify-between flex bg-blue-300 p-4">
        <a href="#" class="font-[DynaPuff] font-semibold text-3xl">EconAmi</a>
        <button class="hidden md:block" onclick=""><i class="fa-solid fa-bars fa-lg"></i></button>
    </nav>

    <section class="h-dvh">

        <!-- speech bubble -->
        <div style="background-color: #c6c6c6; max-width: 60%; margin: auto; border-radius: 50px;">
            <p style="text-align: center;">Insert some dialogue.</p>
        </div>
        <br>

        <!-- budget donut -->
        <div style="display: flex; justify-content: center;">
            <canvas id="canvas" width=325 height=325></canvas>
        </div>

        <script>
              const canvas = document.getElementById("canvas");
                const ctx = canvas.getContext("2d");

                // Only two values: red (25%), green (75%)
                const colors = ['#e66f6f', '#8ce66f'];
                const values = [25, 75]; // Proportional values; ADJUSTABLE
                const labels = ['Red', 'Green'];

                const img = new Image();
                img.src = 'https://pethelpful.com/.image/w_3840,q_auto:good,c_fill,ar_4:3/MTk3MDM5MzE5MTM3OTIwMzE5/bunny-care-guide-how-to-discipline-your-rabbit-2.jpg'; // Replace with your image if needed

                img.onload = function () {
                    dmbChart(150, 150, 125, 25, values, colors, labels, img);
                };

                function dmbChart(cx, cy, radius, arcwidth, values, colors, labels, img) {
                    const PI = Math.PI;
                    const PI2 = 2 * PI;
                    const offset = PI / 2; // Start at bottom

                    ctx.lineWidth = arcwidth;

                    const total = values.reduce((a, b) => a + b, 0);
                    let accum = 0;

                    for (let i = 0; i < values.length; i++) {
                        ctx.beginPath();
                        ctx.arc(
                            cx, cy, radius,
                            offset + PI2 * (accum / total),
                            offset + PI2 * ((accum + values[i]) / total)
                        );
                        ctx.strokeStyle = colors[i];
                        ctx.stroke();
                        accum += values[i];
                    }

                    // Draw inner white circle to create "cutout"
                    const innerRadius = radius - arcwidth - 3;
                    ctx.beginPath();
                    ctx.arc(cx, cy, innerRadius, 0, PI2);
                    ctx.fillStyle = 'white';
                    ctx.fill();

                    // Draw image at center
                    const imageSize = innerRadius * 1.5;
                    ctx.drawImage(img, cx - imageSize / 2, cy - imageSize / 2, imageSize, imageSize);
                }
        </script>

        <!-- amount spent / budget -->
        <div style="text-align: center;">$25/$100</div>
        <br>

        <!-- daily weekly monthly buttons -->
        <div class="flex justify-center space-x-2">
            <button class="bg-blue-200 px-2 py-1 rounded hover:bg-blue-300 transition" type="button">daily</button>
            <button class="bg-blue-200 px-2 py-1 rounded hover:bg-blue-300 transition" type="button">weekly</button>
            <button class="bg-blue-200 px-2 py-1 rounded hover:bg-blue-300 transition" type="button">monthly</button>
        </div>

        <!-- add expense/income toggle -->
        <div>
            <!-- nonfunctioning collapsible button for now -->
            <button type="button" class="collapsible">Add expense/income</button>
            <form>
                <input type="button" value="income">
                <input type="button" value="expense">
                <br>

                <label for="name">Name</label>
                <input type="text" id="name" name="name">
                <br>
                <label for="type">Type</label>
                <input type="text" id="type" name="type">
                <br>
                <label for="date">Date</label>
                <input type="date" id="date" name="date">
                <br>
                <label for="amount">Amount</label>
                <input type="text" id="amount" name="amount">
                <br>

                <input type="button" value="Expand Form">
                <input type="button" value="Submit">
            </form>
        </div>

    </section>






    <!-- BOTTOM NAV -->
    <nav class="sticky bottom-0 justify-around flex bg-blue-300 md:hidden">
        <a href="#" class="hover:bg-blue-400 p-4 px-8 transition">
            <i class="fa-solid fa-house fa-lg"></i>
        </a>
        <a href="#" class="hover:bg-blue-400 p-4 px-8 transition">
            <i class="fa-solid fa-face-smile-beam fa-lg"></i>
        </a>
        <a href="#" class="hover:bg-blue-400 p-4 px-8 transition">
            <i class="fa-solid fa-table-list fa-lg"></i>
        </a>
        <a href="#" class="hover:bg-blue-400 p-4 px-8 transition">
            <i class="fa-solid fa-star fa-lg"></i>
        </a>
        <a href="#" class="hover:bg-blue-400 p-4 px-8 transition">
            <i class="fa-solid fa-circle-user fa-lg"></i>
        </a>
    </nav>

    <!-- Footer if we want would go here -->

</body>

</html>