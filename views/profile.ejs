<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EconAmi | Profile</title>
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <!-- Tailwind -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- External libraries -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=DynaPuff:wght@400..700&family=Quicksand:wght@300..700&display=swap"
        rel="stylesheet">
    <script src="https://kit.fontawesome.com/f0fa2c9149.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body class="h-dvh flex flex-col font-[Quicksand] bg-[#f5f2f0] text-[#151723]">

    <!-- Top Navigation -->
    <%- include('./partials/nav_top') %>

    <!-- has h-dvh for now, but it depends on the page if you should keep it in -->
    <!-- There to show that bottom is sticky to the bottom -->
    <section class="bg-slate-100 h-full relative z-100 md:ml-14" id="content">
        <!-- Game UI, this will always be on top -->

        <div class="w-full p-8">
            <!-- Ami div -->
            <div class="relative w-50 mx-auto">
                <!-- Item Overlay -->
                <img class="select-none pointer-events-none absolute left-0 right-0 z-10"
                    src="/images/game/Items/heart.png" alt="">
                <!-- Expression Overlay -->
                <img class="select-none pointer-events-none absolute left-0 right-0 z-10"
                    src="/images/game/Ami-Expressions/default.png" alt="">
                <!-- Ami Base -->
                <img class="select-none pointer-events-none" src="/images/game/Ami-Base/white.png" alt="">
            </div>
        </div>

        <!-- Profile card -->
        <div class="w-full flex justify-center">
            <div class="relative bg-white rounded-2xl shadow-lg p-4 w-96 text-center">
                <h2 class="text-2xl font-bold">Profile</h2>

                <div class="mt-4 text-left space-y-4">
                    <!-- Name Field - should be populated with name from database -->
                    <div class="relative group">
                        <label for="name" class="text-xs uppercase block mb-1">Name</label>
                        <input type="text" id="name" name="name"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                            placeholder="Your name here"
                            value="<%= user.username %>" />
                        <button
                            class="save-button absolute top-0 right-0 mt-8 mr-2 text-sm text-purple-600 font-bold opacity-0 group-focus-within:opacity-100 transition"
                            data-field="name">Save</button>
                    </div>
                    <!-- Password Field -->
                    <div class="relative group">
                        <label for="password" class="text-xs uppercase block mb-1">Password</label>
                        <input type="password" id="password" name="password"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                            placeholder="*********" 
                            value="" />
                        <button
                            class="save-button absolute top-0 right-0 mt-8 mr-2 text-sm text-purple-600 font-bold opacity-0 group-focus-within:opacity-100 transition"
                            data-field="password">Save</button>
                    </div>
                    <!-- Weekly Budget Field -->
                    <div class="relative group">
                        <label for="weeklyBudget" class="text-xs uppercase block mb-1">Weekly Budget</label>
                        <input type="text" id="weeklyBudget" name="weeklyBudget"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                            placeholder="Your weekly budget here"
                            value="<%= user.budget?.weekly || '' %>" />
                        <button
                            class="save-button absolute top-0 right-0 mt-8 mr-2 text-sm text-purple-600 font-bold opacity-0 group-focus-within:opacity-100 transition"
                            data-field="weeklyBudget">Save</button>
                    </div>
                    <!-- Monthly Budget Field -->
                    <div class="relative group">
                        <label for="monthlyBudget" class="text-xs uppercase block mb-1">Monthly Budget</label>
                        <input type="text" id="monthlyBudget" name="monthlyBudget"
                            class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                            placeholder="Your monthly budget here"
                            value="<%= user.budget?.monthly || '' %>" />
                        <button
                            class="save-button absolute top-0 right-0 mt-8 mr-2 text-sm text-purple-600 font-bold opacity-0 group-focus-within:opacity-100 transition"
                            data-field="monthlyBudget">Save</button>
                    </div>
                    <!-- Customize Categories Dropdown - Add or remove categories-->
                    <div class="flex justify-center pt-4">
                        <form action="/auth/logout" method="POST">
                            <button type="submit"
                                class="border-[#de5158] text-[#de5158] bg-white px-2 py-1 text-sm rounded-xl border-4 font-bold hover:cursor-pointer m-1 hover:bg-[#de5158] active:border-[#ffa4a4] hover:text-white active:bg-[#ffa4a4] transition">
                                Logout
                            </button>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Bottom Navigation -->
    <%- include('./partials/nav_bottom') %>

    <!-- Footer if we want would go here -->

    <!-- Scripts -->
    <script src="/scripts/profile.js"></script>
    <script src="/scripts/navigation.js"></script>
</body>

</html>